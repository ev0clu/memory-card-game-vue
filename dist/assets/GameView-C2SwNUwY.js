import{d as g,c as _,a as d,o as l,b as I,_ as V,t as S,n as B,e as b,r as m,f as o,w as M,g as N,v as G,u as E,h as k,i as U,j as y,k as D,l as H,m as h,p as K,C as j,q,s as z,F as A,T as L,x as O,K as F}from"./index-D_KlxwZv.js";const W=["disabled"],J=["alt","src"],Q={key:1,alt:"ball logo",class:"card-img",src:V,width:"100",height:"100"},R={key:2},X=g({__name:"CardComponent",props:{pokemon:{},pokemonPairs:{}},emits:["select"],setup(p,{emit:i}){const a=p,c=i;function r(){c("select",a.pokemon)}const e=_(()=>a.pokemonPairs.some(s=>s.uid===a.pokemon.uid)),u=_(()=>a.pokemon.isFound);return(s,t)=>(l(),d("button",{class:B([{selected:e.value}]),onClick:r,disabled:e.value||u.value||a.pokemonPairs.length===2},[e.value||u.value?(l(),d("img",{key:0,alt:s.pokemon.name,class:"card-img",src:s.pokemon.imageUrl,width:"100",height:"100"},null,8,J)):(l(),d("img",Q)),e.value||u.value?(l(),d("p",R,S(s.pokemon.name),1)):I("",!0)],10,W))}}),Y=b(X,[["__scopeId","data-v-83843aff"]]),Z={class:"title"},ee=["aria-invalid"],oe={key:0},se=g({__name:"FormScoreModal",props:{counter:{}},emits:["formSubmit"],setup(p,{emit:i}){const a=p,c=i,r=m(!1),e=m("");function u(){e.value.trim().length<=3?r.value=!0:(c("formSubmit",e.value),e.value="",r.value=!1)}return(s,t)=>(l(),d("article",null,[t[5]||(t[5]=o("h1",null,"Add new score",-1)),o("form",{onSubmit:M(u,["prevent"])},[o("div",Z,[N(o("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=v=>e.value=v),placeholder:"Player Name",name:"title",onInput:t[1]||(t[1]=v=>!r.value),"aria-invalid":r.value===!0||void 0},null,40,ee),[[G,e.value]]),r.value?(l(),d("small",oe," Player name needs to be more than 3 characters ")):I("",!0),o("strong",null,[t[2]||(t[2]=o("span",null,"Elapsed Time: ",-1)),o("span",null,S(a.counter),1),t[3]||(t[3]=o("span",null," s",-1))])]),t[4]||(t[4]=o("div",{class:"btn-container"},[o("button",null,"Submit")],-1))],32)]))}}),te=b(se,[["__scopeId","data-v-427c2737"]]),ne={class:"card-wrapper"},ae=["open"],le=g({__name:"GameView",setup(p){let i;const{pokemons:a,addScore:c,setPokemonFound:r}=E(),e=m(0),u=m(!1),s=m([]);function t(){e.value=e.value+1}function v(n){s.value.push({...n})}function P(n){c(n,e.value),F.success("New score successfully added!"),y.push("/score")}function $(){u.value=!1}const x=_(()=>s.value.length==2?s.value[0].id===s.value[1].id:!1),C=_(()=>a.value.every(n=>n.isFound));return k(x,n=>{n&&r(s.value[0].id)}),k(s,n=>{n.length===2&&setTimeout(()=>{s.value=[]},1e3)},{deep:!0}),k(C,n=>{n&&(clearInterval(i),u.value=!0,F.success("Great, you found all pokemons!"))}),U(()=>{a.value.length===0&&y.push("/")}),D(()=>i=setInterval(t,1e3)),H(()=>clearInterval(i)),(n,f)=>(l(),h(j,{class:"game-wrapper"},{default:K(()=>[o("p",null,[f[0]||(f[0]=o("span",null,"Elapsed Time: ",-1)),o("span",null,S(e.value),1),f[1]||(f[1]=o("span",null," s",-1))]),o("div",ne,[(l(!0),d(A,null,q(z(a),(w,T)=>(l(),h(Y,{key:w.name+T,pokemon:w,"pokemon-pairs":s.value,onSelect:v},null,8,["pokemon","pokemon-pairs"]))),128))]),(l(),h(L,{to:"body"},[o("dialog",{open:u.value&&C.value,onClick:M($,["self"])},[O(te,{onFormSubmit:P,counter:e.value},null,8,["counter"])],8,ae)]))]),_:1}))}}),ue=b(le,[["__scopeId","data-v-e68c0258"]]);export{ue as default};
